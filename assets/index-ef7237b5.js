import{f as b,a as g,l as F}from"./use-translate-39e9697c.js";import{n as P,t as B,w}from"./index-594801ee.js";import{F as y}from"./constant-a3e7c845.js";import{A,e as C}from"./vue-libs-cca96e89.js";const[N,S]=g("form"),V={colon:Boolean,disabled:Boolean,readonly:Boolean,labelWidth:P,showErrorMessage:B,validateTrigger:{type:[String,Array],default:"onBlur"}},E=A({name:N,props:V,emits:["submit","failed"],setup(l,{emit:s,slots:o}){const{children:r,linkChildren:m}=b(y),u=()=>r.reduce((e,t)=>(t.name!==void 0&&(e[t.name]=t.formValue.value),e),{}),c=e=>e?r.filter(t=>e.includes(t.name)):r,d=e=>new Promise((t,a)=>{const i=c(e);Promise.all(i.map(n=>n.validate())).then(n=>{n=n.filter(Boolean),n.length?a(n):t()})}),f=e=>{const t=r.find(a=>a.name===e);return t?new Promise((a,i)=>{t.validate().then(n=>{n?i(n):a()})}):Promise.reject()},p=e=>typeof e=="string"?f(e):d(e),h=()=>{const e=u();p().then(()=>s("submit",e)).catch(t=>{s("failed",{values:e,errors:t})})},v=e=>{F(e),h()};return m({props:l}),()=>{var e;return C("form",{class:S(),onSubmit:v},[(e=o.default)==null?void 0:e.call(o)])}}}),x=w(E);export{x as F};
